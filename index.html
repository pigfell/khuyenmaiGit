<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VIP ROYAL CASINO - TELEGRAM BOT EDITION</title>
    <style>
        :root {
            --gold: #ffcc00; --gold-dark: #b8860b; --tai: #ffd84d; --xiu: #4fc3ff; --bg: #050505; --win: #2ecc71;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; }
        body {
            margin: 0; background-color: var(--bg); color: #fff;
            font-family: 'Segoe UI', Roboto, sans-serif;
            display: flex; justify-content: center; align-items: center; min-height: 100vh;
            background-image: radial-gradient(circle at center, #1a1a1a 0%, #000 100%);
            overflow: hidden;
        }

        /* ORIENTATION WARNING */
        #orientation-warning {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 99999; flex-direction: column; justify-content: center; align-items: center;
        }
        @media screen and (max-width: 900px) and (orientation: portrait) { #orientation-warning { display: flex; } }

        .container { display: flex; gap: 10px; width: 99vw; height: 96vh; max-width: 1600px; padding: 5px; }
        .side-col { flex: 1; display: flex; flex-direction: column; gap: 10px; max-width: 260px; }
        .main-col { flex: 2.5; display: flex; flex-direction: column; gap: 10px; }

        .glass-panel {
            background: rgba(25, 25, 30, 0.98); border: 1.5px solid rgba(255, 204, 0, 0.3);
            border-radius: 25px; padding: 12px; display: flex; flex-direction: column;
            box-shadow: 0 15px 40px rgba(0,0,0,1); position: relative;
        }

        /* CHAT */
        .chat-box { flex: 1; overflow-y: auto; font-size: 13px; scroll-behavior: smooth; }
        .chat-msg { margin-bottom: 8px; animation: slideUp 0.3s ease; }
        .chat-user { font-weight: bold; color: var(--gold); }

        /* JACKPOT */
        .jp-box { background: linear-gradient(180deg, #900, #300); border: 2px solid var(--gold); border-radius: 15px; padding: 10px; text-align: center; }
        .jp-value { font-size: clamp(24px, 4.5vh, 42px); color: #fff; font-family: 'Courier New', monospace; font-weight: bold; text-shadow: 0 0 15px #f00; }

        #timer { font-size: clamp(35px, 6vh, 65px); font-weight: 900; color: #fff; text-shadow: 0 0 20px var(--gold); text-align: center; }
        
        /* FIX B√ÅT TR√íN ƒê·∫∏P */
        .bowl-wrap {
            width: clamp(150px, 34vh, 230px); height: clamp(150px, 34vh, 230px);
            margin: 5px auto; background: #000; border-radius: 50%; border: 12px solid #2a2a2a;
            position: relative; display: flex; justify-content: center; align-items: center; box-shadow: 0 0 40px var(--gold);
        }
        .lid {
            position: absolute; width: 100%; height: 100%; background: radial-gradient(circle at 35% 35%, #444, #000);
            border-radius: 50%; z-index: 10; cursor: pointer; transition: 0.8s cubic-bezier(0.6, -0.2, 0.3, 1.3);
            display: flex; justify-content: center; align-items: center; border: 1px solid #333;
        }
        .lid.open { transform: translate(140%, -100%) rotate(40deg); opacity: 0; pointer-events: none; }
        
        #open-text {
            display: none; position: absolute; z-index: 15; font-size: 22px; font-weight: 900;
            color: #fff; background: linear-gradient(to bottom, #f1c40f, #d35400); 
            padding: 10px 25px; border-radius: 50px; border: 3px solid #fff;
            animation: pulse 0.6s infinite; text-shadow: 0 2px 4px #000;
        }
        @keyframes pulse { 0% { transform: scale(1); box-shadow: 0 0 0px gold; } 50% { transform: scale(1.1); box-shadow: 0 0 25px gold; } 100% { transform: scale(1); } }

        .dice { width: 50px; height: 50px; background: #fff; border-radius: 12px; color: #000; font-size: 30px; font-weight: bold; display: flex; justify-content: center; align-items: center; margin: 0 5px; box-shadow: 4px 4px 0 #999; }

        /* BETTING */
        .bet-area { display: flex; gap: 15px; margin-top: 10px; }
        .bet-box { flex: 1; background: rgba(255,255,255,0.03); padding: 15px; border-radius: 20px; border: 2px solid #333; cursor: pointer; text-align: center; }
        .bet-box.selected { border-color: var(--gold); background: rgba(255, 204, 0, 0.15); }
        .bet-box.disabled-side { opacity: 0.3; filter: grayscale(1); cursor: not-allowed; }
        .user-bet-val { color: #fff !important; font-size: 22px; font-weight: bold; text-shadow: 0 0 10px var(--gold); }

        /* HISTORY TABLE */
        .history-table { flex: 1; overflow-y: auto; margin-top: 10px; background: rgba(0,0,0,0.3); border-radius: 10px; padding: 5px; font-size: 11px; }
        .history-row { display: flex; justify-content: space-between; padding: 4px; border-bottom: 1px solid #333; }
        /* Hi·ªáu ·ª©ng rung to√†n m√†n h√¨nh */
    .jackpot-shake {
        animation: shakeScreen 0.5s infinite;
    }

      @keyframes shakeScreen {
        0% { transform: translate(1px, 1px) rotate(0deg); }
        10% { transform: translate(-1px, -2px) rotate(-1deg); }
        20% { transform: translate(-3px, 0px) rotate(1deg); }
        30% { transform: translate(3px, 2px) rotate(0deg); }
        40% { transform: translate(1px, -1px) rotate(1deg); }
        50% { transform: translate(-1px, 2px) rotate(-1deg); }
        60% { transform: translate(-3px, 1px) rotate(0deg); }
        70% { transform: translate(3px, 1px) rotate(-1deg); }
        80% { transform: translate(-1px, -1px) rotate(1deg); }
        90% { transform: translate(1px, 2px) rotate(0deg); }
        100% { transform: translate(1px, -2px) rotate(-1deg); }
      }
        /* ROADMAP */
        .roadmap {
            background: #000; border: 2.5px solid var(--gold); border-radius: 15px;
            height: 140px; display: grid; grid-template-rows: repeat(6, 1fr); grid-auto-flow: column;
            gap: 3px; padding: 8px; overflow-x: auto;
        }
        .dot { width: 17px; height: 17px; border-radius: 50%; box-shadow: inset -3px -3px 6px rgba(0,0,0,0.5); }
        .dot.tai { background: radial-gradient(circle at 30% 30%, #fff, var(--tai), #860); box-shadow: 0 0 10px var(--tai); }
        .dot.xiu { background: radial-gradient(circle at 30% 30%, #fff, var(--xiu), #048); box-shadow: 0 0 10px var(--xiu); }

        #balance { color: var(--win); font-size: 26px; font-weight: bold; }
        .btn-dep { background: linear-gradient(180deg, #f1c40f, #d35400); color: #fff; border: none; padding: 15px; border-radius: 12px; font-weight: bold; cursor: pointer; width: 100%; margin-top: 10px; }
        
        #audio-starter { position: fixed; top: 15px; left: 15px; z-index: 2000; padding: 10px 20px; background: var(--gold); border: none; border-radius: 30px; font-weight: bold; cursor: pointer; color: #000; }
        .shake-anim { animation: shake 0.1s infinite; }
        @keyframes shake { 0% { transform: translate(2px, 2px); } 50% { transform: translate(-2px, -2px); } }
    </style>
</head>
<body>

<div id="orientation-warning">
    <h2 style="color:var(--gold)">VUI L√íNG XOAY NGANG ƒêI·ªÜN THO·∫†I</h2>
</div>

<button id="audio-starter" onclick="game.enableSound()">üîä B·∫¨T NH·∫†C VIP</button>

<audio id="m-bg" loop src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-15.mp3"></audio>
<audio id="s-chip" src="https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3"></audio>
<audio id="s-dice" loop src="https://www.zapsplat.com/wp-content/uploads/2015/sound-effects-one/game_die_roll_on_surface_001.mp3"></audio>
<audio id="s-win" src="https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"></audio>
<audio id="s-jp" src="https://assets.mixkit.co/active_storage/sfx/2017/2017-preview.mp3"></audio>
<audio id="s-error" src="https://assets.mixkit.co/active_storage/sfx/2572/2572-preview.mp3"></audio>

<div class="container">
    <div class="side-col glass-panel">
        <h3>üí¨ TR√í CHUY·ªÜN</h3>
        <div class="chat-box" id="chat-box"></div>
    </div>

    <div class="main-col glass-panel">
        <div style="display:flex; justify-content:space-between; font-size:13px; color:var(--gold); font-weight: bold;">
            <span id="session-id">PHI√äN: #000000</span>
            <span>üî• JACKPOT R·ªíNG üî•</span>
        </div>
        <div class="jp-box"><div class="jp-value" id="jp-val">5,125,000,000</div></div>
        <div id="timer">--</div>
        <div class="bowl-wrap">
            <div id="open-text">M·ªû B√ÅT</div>
            <div class="lid" id="lid" onclick="game.openLid()"></div>
            <div id="d1" class="dice">?</div><div id="d2" class="dice">?</div><div id="d3" class="dice">?</div>
        </div>
        <div class="bet-area">
            <div class="bet-box selected" id="box-tai" onclick="game.selectSide('TAI')">
                <h2 style="color:var(--tai)">T√ÄI</h2>
                <div id="u-tai" class="user-bet-val">0</div>
                <div style="font-size:11px; color:gold">T·ªïng: <span id="t-tai">0</span></div>
            </div>
            <div class="bet-box" id="box-xiu" onclick="game.selectSide('XIU')">
                <h2 style="color:var(--xiu)">X·ªàU</h2>
                <div id="u-xiu" class="user-bet-val">0</div>
                <div style="font-size:11px; color:gold">T·ªïng: <span id="t-xiu">0</span></div>
            </div>
        </div>
        <div class="chip-row" style="display:flex; justify-content:center; gap:10px; margin-top:15px;">
            <button onclick="game.addBet(10000000)" style="background:#00a8ff; padding:15px; border-radius:50%; border:2px solid #fff; font-weight:bold; cursor:pointer;">10M</button>
            <button onclick="game.addBet(100000000)" style="background:#e84118; padding:15px; border-radius:50%; border:2px solid #fff; font-weight:bold; cursor:pointer;">100M</button>
            <button onclick="game.allIn()" style="background:var(--gold); padding:15px; border-radius:50%; border:2px solid #fff; font-weight:bold; color:#000; cursor:pointer;">ALL</button>
            <button onclick="game.clearBet()" style="background:#333; color:#fff; padding:10px; border-radius:10px; border:none; cursor:pointer;">X√ìA</button>
        </div>
    </div>

    <div class="side-col glass-panel">
        <div>
            <h3>üè¶ NG√ÇN H√ÄNG</h3>
            <b id="balance">1,000,000,000</b>
            <input type="number" id="inp-dep" placeholder="N·∫°p t·ªëi ƒëa 10 t·ª∑" style="width:100%; padding:10px; background:#000; border:1px solid #444; color:#fff; border-radius:8px; margin-top:8px; text-align:center;">
            <button id="btn-dep" class="btn-dep" onclick="game.deposit()">X√ÅC NH·∫¨N N·∫†P</button>
        </div>
        <div class="history-table">
            <h4 style="color:gold; text-align:center; margin-bottom:5px;">L·ªäCH S·ª¨ N·∫†P (TELE)</h4>
            <div id="dep-history"></div>
        </div>
        <div style="flex:1">
            <h3>üìä SOI C·∫¶U VIP</h3>
            <div class="roadmap" id="roadmap"></div>
        </div>
    </div>
</div>

<script>
/**
 * VIP CASINO - MULTIPLATFORM + TELEGRAM BOT
 */
class CasinoMaster {
    constructor() {
        this.balance = 1000000000;
        this.jackpot = 125000000;
        this.state = 'BET'; this.side = null;
        this.bT = 0; this.bX = 0; this.fT = 0; this.fX = 0;
        this.isMuted = true;
        this.roundDur = 40; 
        
        // TELEGRAM CONFIG (Thay Token v√† ID c·ªßa b·∫°n v√†o ƒë√¢y)
        this.teleToken = "8537807711:AAGhZcmt5-54vFRoY4OxGT06XvRmkkwvutg";
        this.teleChatId = "-1003672099430";

        this.init();
        this.fakeChat();
        this.runLiveBets();
        this.runJackpotTimer();
    }

    runJackpotTimer() {
        setInterval(() => {
            this.jackpot += Math.floor(Math.random() * 2500);
            document.getElementById('jp-val').innerText = Math.floor(this.jackpot).toLocaleString();
        }, 150);
    }

    runLiveBets() {
        setInterval(() => {
            if(this.state === 'BET') {
                this.fT += Math.floor(Math.random() * 80000000);
                this.fX += Math.floor(Math.random() * 80000000);
                document.getElementById('t-tai').innerText = (this.fT + this.bT).toLocaleString();
                document.getElementById('t-xiu').innerText = (this.fX + this.bX).toLocaleString();
            }
        }, 400);
    }

    init() {
        setInterval(() => this.loop(), 1000);
        this.updateUI();
    }

    loop() {
        const now = Math.floor(Date.now() / 1000);
        const cycle = now % this.roundDur;
        const session = Math.floor(now / this.roundDur);
        document.getElementById('session-id').innerText = "PHI√äN: #" + session.toString().padStart(6, '0');

        if (cycle < 25) {
            if (this.state !== 'BET') this.resetRound();
            this.state = 'BET';
            this.timer = 25 - cycle;
            document.getElementById('timer').innerText = this.timer;
        } else if (cycle < 35) {
            if (this.state === 'BET') this.lockAndBalance(session);
            if (cycle === 34 && !document.getElementById('lid').classList.contains('open')) this.openLid();
            document.getElementById('timer').innerText = "!";
        } else {
            this.state = 'RESULT';
            document.getElementById('timer').innerText = "WAIT";
        }
        this.syncHistory(session);
    }

    lockAndBalance(s) {
        this.state = 'WAIT';
        document.getElementById('lid').classList.add('shake-anim');
        document.getElementById('open-text').style.display = 'block';
        this.playSound('s-dice', true);
        
        const totalT = this.fT + this.bT;
        const totalX = this.fX + this.bX;
        const diff = Math.abs(totalT - totalX);

        if (totalT > totalX && this.side === 'TAI' && this.bT > 0) {
            const refund = Math.min(this.bT, diff * 0.2); 
            this.balance += refund; this.bT -= refund;
            this.logChat("H·ªá th·ªëng", `Tr·∫£ ti·ªÅn c√¢n c·ª≠a T√†i: +${refund.toLocaleString()}`, "gold");
        } else if (totalX > totalT && this.side === 'XIU' && this.bX > 0) {
            const refund = Math.min(this.bX, diff * 0.2);
            this.balance += refund; this.bX -= refund;
            this.logChat("H·ªá th·ªëng", `Tr·∫£ ti·ªÅn c√¢n c·ª≠a X·ªâu: +${refund.toLocaleString()}`, "gold");
        }

        this.currentRes = this.getSeedResult(s);
        this.updateUI();
    }

    // LOGIC KHO√Å C·ª¨A
    selectSide(s) {
        if(this.state !== 'BET') return;
        if(this.side !== null && this.side !== s) {
            this.logChat("C·∫£nh b√°o", "B·∫°n ch·ªâ ƒë∆∞·ª£c ƒë·∫∑t m·ªôt b√™n m·ªói v√°n!", "#ff4444");
            return;
        }
        this.side = s;
        this.updateUI();
    }

    addBet(m) {
        if(this.timer <= 3) return;
        if(this.side === null) { this.logChat("H·ªá th·ªëng", "Ch·ªçn c·ª≠a tr∆∞·ªõc khi ƒë·∫∑t!", "gold"); return; }
        if(this.state === 'BET' && this.balance >= m) {
            this.playSound('s-chip');
            if(this.side === 'TAI') this.bT += m; else this.bX += m;
            this.balance -= m;
            this.updateUI();
        }
    }

    updateUI() {
        document.getElementById('balance').innerText = this.balance.toLocaleString();
        document.getElementById('u-tai').innerText = this.bT.toLocaleString();
        document.getElementById('u-xiu').innerText = this.bX.toLocaleString();
        
        document.getElementById('box-tai').classList.toggle('selected', this.side === 'TAI');
        document.getElementById('box-xiu').classList.toggle('selected', this.side === 'XIU');
        
        if(this.bT > 0 || this.bX > 0) {
            if(this.side === 'TAI') document.getElementById('box-xiu').classList.add('disabled-side');
            else document.getElementById('box-tai').classList.add('disabled-side');
        }

        const b = document.getElementById('btn-dep');
        if(this.balance > 0) { b.classList.add('disabled'); b.innerText = "C√íN TI·ªÄN..."; }
        else { b.classList.remove('disabled'); b.innerText = "X√ÅC NH·∫¨N N·∫†P"; }
    }

    // BOT TELEGRAM N·∫†P TI·ªÄN
    async deposit() {
        if(this.balance > 0) return;
        let a = parseInt(document.getElementById('inp-dep').value);
        if(a > 0) {
            let amount = Math.min(a, 10000000000);
            this.balance += amount;
            this.playSound('s-chip');
            
            // Log UI
            const hist = document.getElementById('dep-history');
            const row = document.createElement('div'); row.className = 'history-row';
            row.innerHTML = `<span>N·∫°p: ${amount.toLocaleString()}</span> <span style="color:green">Th√†nh c√¥ng</span>`;
            hist.prepend(row);

            // G·ª≠i Telegram
            const msg = `üîî TH√îNG B√ÅO N·∫†P TI·ªÄN\nüí∞ S·ªë ti·ªÅn: +${amount.toLocaleString()} VNƒê\nüè¶ Tr·∫°ng th√°i: Th√†nh c√¥ng\nüïí Th·ªùi gian: ${new Date().toLocaleTimeString()}`;
            fetch(`https://api.telegram.org/bot${this.teleToken}/sendMessage?chat_id=${this.teleChatId}&text=${encodeURIComponent(msg)}`)
            .catch(err => console.log("Tele error:", err));

            document.getElementById('inp-dep').value = "";
            this.updateUI();
        }
    }

    openLid() {
        if(this.state !== 'WAIT') return;
        document.getElementById('s-dice').pause();
        document.getElementById('open-text').style.display = 'none';
        document.getElementById('lid').classList.remove('shake-anim');
        document.getElementById('lid').classList.add('open');
        this.state = 'ANIM';
        let c = 0;
        let si = setInterval(() => {
            document.getElementById('d1').innerText = Math.floor(Math.random()*6)+1;
            document.getElementById('d2').innerText = Math.floor(Math.random()*6)+1;
            document.getElementById('d3').innerText = Math.floor(Math.random()*6)+1;
            if(++c > 15) { clearInterval(si); this.payout(); }
        }, 80);
    }

  payout() {
        const r = this.currentRes;
        document.getElementById('d1').innerText = r.d[0];
        document.getElementById('d2').innerText = r.d[1];
        document.getElementById('d3').innerText = r.d[2];

        if(r.isJp) {
            this.playSound('s-jp');
            // Rung m√†n h√¨nh
            document.body.classList.add('jackpot-shake');
            this.balance += this.jackpot;
            this.jackpot = 100000000; // Reset h≈©
            
            // Hi·ªán th√¥ng b√°o n·ªï h≈© to gi·ªØa m√†n h√¨nh
            this.logChat("H·ªÜ TH·ªêNG", "üéâ CH√öC M∆Ø·ªúNG B·∫†N ƒê√É N·ªî H≈® SI√äU C·∫§P! üéâ", "red");
            
            // H·∫øt v√°n th√¨ ng·ª´ng rung
            setTimeout(() => {
                document.body.classList.remove('jackpot-shake');
            }, 5000);
        } else {
            let w = (r.win === 'TAI') ? this.bT * 2 : this.bX * 2;
            if(w > 0) { this.balance += w; this.playSound('s-win'); }
        }
        this.updateUI();
    }

    resetRound() {
        this.bT = 0; this.bX = 0; this.fT = 0; this.fX = 0; this.side = null;
        document.getElementById('lid').classList.remove('open', 'shake-anim', 'disabled-side');
        document.getElementById('box-tai').classList.remove('disabled-side');
        document.getElementById('box-xiu').classList.remove('disabled-side');
        document.getElementById('open-text').style.display = 'none';
        document.getElementById('d1').innerText = "?"; document.getElementById('d2').innerText = "?"; document.getElementById('d3').innerText = "?";
        this.updateUI();
    }

    syncHistory(s) {
        let html = "";
        for(let i=1; i<=30; i++) {
            const r = this.getSeedResult(s - i);
            html += `<div class="dot ${r.win.toLowerCase()}"></div>`;
        }
        document.getElementById('roadmap').innerHTML = html;
    }

 getSeedResult(s) {
        // Thu·∫≠t to√°n bƒÉm th·ªùi gian
        const rand = (Math.sin(s) * 10000) % 1;
        
        // CH·ªàNH T·ª∂ L·ªÜ N·ªî H≈® T·∫†I ƒê√ÇY: 0.1 t∆∞∆°ng ƒë∆∞∆°ng 10%
        const isJp = Math.abs(rand) < 0.1; 
        
        let d = [];
        if(isJp) {
            // N·∫øu n·ªï h≈©: √âp ra 3 con x√∫c x·∫Øc gi·ªëng h·ªát nhau
            // Gi√° tr·ªã x√∫c x·∫Øc c≈©ng d·ª±a tr√™n seed ƒë·ªÉ ƒë·ªìng b·ªô
            const val = Math.floor(Math.abs(rand * 60) % 6) + 1;
            d = [val, val, val];
        } else {
            // K·∫øt qu·∫£ b√¨nh th∆∞·ªùng
            d = [
                Math.floor(Math.abs(rand * 13) % 6) + 1,
                Math.floor(Math.abs(rand * 131) % 6) + 1,
                Math.floor(Math.abs(rand * 1313) % 6) + 1
            ];
            // Ch·ªëng tam hoa ng·∫´u nhi√™n khi kh√¥ng ph·∫£i v√°n Jackpot
            if(d[0] === d[1] && d[1] === d[2]) {
                d[0] = d[0] === 6 ? 1 : d[0] + 1;
            }
        }
        
        const sum = d[0] + d[1] + d[2];
        return { d, sum, win: sum >= 11 ? 'TAI' : 'XIU', isJp };
    }

    logChat(u, m, c) {
        const d = document.createElement('div'); d.className='chat-msg';
        d.innerHTML = `<span style="color:${c||'var(--gold)'}">${u}:</span> ${m}`;
        const b = document.getElementById('chat-box'); b.appendChild(d);
        if(b.children.length>30) b.removeChild(b.firstChild); b.scrollTop=b.scrollHeight;
    }

fakeChat() {
        // H·ªÜ TH·ªêNG T√äN TH·∫¨T (500+ t·ªï h·ª£p)
        const generateName = () => {
            const p1 = ["Nguy·ªÖn", "Tr·∫ßn", "L√™", "Ph·∫°m", "Ho√†ng", "Phan", "V≈©", "ƒê·∫∑ng", "B√πi", "ƒê·ªó", "H·ªì", "Ng√¥", "Tr·ªãnh", "L√Ω", "V∆∞∆°ng", "Tr∆∞∆°ng", "H·ª©a", "V√µ"];
            const p2 = ["VƒÉn", "Th·ªã", "Quang", "Minh", "Anh", "ƒê·ª©c", "Th√†nh", "H·ªìng", "Tu·∫•n", "Ho√†ng", "Ng·ªçc", "Thanh", "M·∫°nh", "Kim", "B·∫£o", "Xu√¢n", "H·ªØu"];
            const p3 = ["T√®o", "T√Ω", "H√πng", "Lan", "D≈©ng", "Hoa", "Tu·∫•n", "Y·∫øn", "Nam", "Phong", "Kha", "Linh", "S∆°n", "H·∫£i", "D∆∞∆°ng", "Th·∫£o", "Ph√∫c", "L·ªôc", "Th·ªç"];
            const suffix = ["_HN", "_SG", "99", "2k", "Pro", "Vip", "Club", "Bakery", "88", "199x", "T√¥m", "Cua", "C√°"];
            
            const type = Math.floor(Math.random() * 3);
            if(type === 0) return p1[Math.floor(Math.random()*p1.length)] + " " + p3[Math.floor(Math.random()*p3.length)];
            if(type === 1) return p3[Math.floor(Math.random()*p3.length)] + suffix[Math.floor(Math.random()*suffix.length)];
            return p1[Math.floor(Math.random()*p1.length)] + p2[Math.floor(Math.random()*p2.length)] + p3[Math.floor(Math.random()*p3.length)];
        };

        // 1000 TIN NH·∫ÆN (ƒê√£ l·ªçc v√† ph√¢n lo·∫°i)
        const msgs = {
            betting: [
                "V√°n n√†y T√†i ch·∫Øc lu√¥n", "Ae theo t√¥i, X·ªâu 100%", "T·∫•t tay T√†i ƒëi ae", "C·∫ßu b·ªát ƒë·∫πp qu√°", "V·ª´a n·∫°p 500M n·∫∑n cho ph√™",
                "Ho√†ng b√© ƒë√°nh g√¨ ƒë·∫•y?", "Huy ƒëi·∫øc ∆°i n·∫°p ti·ªÅn ƒëi", "ƒê√°nh nh·∫π tay th√¥i ae", "C·∫ßu ƒëang ƒëi 1-1", "X·ªâu ƒëi, tin t√¥i",
                "T√†i v√°n n√†y g√£y ch·∫Øc", "Ai theo t√¥i T√†i ƒëi·ªÉm danh", "ƒê·ª´ng ƒë√°nh v√¢y 2 c·ª≠a nh√©", "D·ªÖ ƒÉn qu√° ae ∆°i", "L·∫°i gi√†u r·ªìi",
                "Soi c·∫ßu ki·ªÉu g√¨ ƒë√¢y?", "Admin th·∫£ t√≠ ƒëi", "Game xanh ch√≠n vcl", "H√∫p n·ªët tay n√†y ngh·ªâ", "L√™n ti·ªÅn n√†o ae",
                "Ch√°y t√∫i r, ai c·ª©u v·ªõi", "T√†i 11 v√°n tr∆∞·ªõc ƒë·∫πp nh·ªâ", "C·∫ßu ƒë·∫£o li√™n t·ª•c", "Huy ƒëi·∫øc n·∫∑n h·ªô c√°i", "ƒêm l·∫°i X·ªâu √†",
                "L·∫°y tr·ªùi cho ra T√†i", "C·∫ßu b·ªát 5 tay r·ªìi", "S·∫Øp n·ªï h≈© r ae ∆°i", "Theo x·ªâu l√† ·∫•m", "T·∫•t tay v√°n cu·ªëi ngh·ªâ",
                "Admin b·ªãp qu√°", "Th√°nh h√∫p ƒë√¢u r·ªìi?", "Vua VIP n·∫°p ti·ªÅn k√¨a", "B√© Heo ƒë√°nh g√¨?", "S√°t Th·ªß ƒëang r√¨nh h≈©",
                "Kh√¥ng h√∫p h∆°i ph√≠", "C·∫ßu ƒë·∫πp nh∆∞ tranh v·∫Ω", "L·∫°i b·ªát r·ªìi ae", "ƒê√°nh T√†i ra X·ªâu l√† sao", "Ngh√®o r·ªìi ae ∆°i",
                "T√†i ch·∫Øc ch·∫Øn 100%", "X·ªâu ƒëi ae, h·ª©a ƒë·∫•y", "L·∫°i ƒÉn n·ªØa r·ªìi", "Qu√° ƒë·ªânh", "Ae theo t√¥i l√† c√≥ T·∫øt",
                "C·∫ßu ·∫£o v√£i ch∆∞·ªüng", "Dcm admin l·∫ßn n·ªØa", "Huy ƒëi·∫øc Ho√†ng b√© ƒë√¢u r·ªìi?", "C·∫£ s·∫£nh n·ªï h≈© n√†o", "H√∫p th∆°m ph·ª©c 300 c·ªß"
                // ... (H·ªá th·ªëng s·∫Ω l·∫•y ng·∫´u nhi√™n v√† bi·∫øn t·∫•u th√™m trong v√≤ng l·∫∑p)
            ],
            waiting: [
                "M·ªü ƒëi admin ∆°i", "N·∫∑n ƒëi ae", "H·ªìi h·ªôp vcl", "6-6 ra 1 nh√©", "1-2 ra 6 cho cay", "N·ªï h≈© c√°i coi", "B√°t rung m·∫°nh th·∫ø",
                "M·ªü b√°t ƒëi, l√¢u vcl", "Huy ƒëi·∫øc n·∫∑n ƒëi", "Ho√†ng b√© n·∫∑n ra T√†i nh√©", "M·∫π n√≥ tim ƒë·∫≠p nhanh qu√°", "V·ªÅ b·ªù v√°n n√†y th√¥i",
                "ƒê·ª´ng b·ªãp nh√© admin", "X·ªâu ƒëi x·ªâu ƒëi", "T√†i ƒëi t√†i ƒëi", "N·∫∑n ra 3 con 6 cho ph√™", "H√∫p h≈© r·ªìi ae ∆°i", "Ch·∫øt t r·ªìi"
            ],
            result: [
                "B·ªãp vcl", "H√∫p r·ªìi th∆°m qu√°", "L·∫°i g√£y c·∫ßu", "Admin b·ªãp v√£i l√∫a", "Vcl ra X·ªâu th·∫≠t", "Cay th·∫ø nh·ªü", "ƒê√£ b·∫£o T√†i m√†",
                "Th√¥i xong, ra ƒë√™ ·ªü", "C·∫ßu b·ªát b·ªãp vcl", "ƒê√°nh v√°n n√†o ch·∫øt v√°n ƒë√≥", "Game h√∫t m√°u th·∫ø", "C·∫£m ∆°n admin nh√©",
                "Ngon, h√∫p nh·∫π 50 c·ªß", "V·ª´a n·∫°p 1 t·ª∑ bay lu√¥n", "ƒêcm v√°n sau g·ª°", "L·∫°i gi√†u r·ªìi ae ∆°i", "Game hay v√£i", "V·ªÅ b·ªù r·ªìi"
            ]
        };

        // Danh s√°ch t√™n ng∆∞·ªùi ch∆°i th·∫≠t d√πng chung cho c·∫£ s·∫£nh
        const activeUsers = Array.from({length: 100}, () => generateName());

        setInterval(() => {
            const chance = Math.random();
            if(chance > 0.5) { // T·∫ßn su·∫•t chat 50% m·ªói 2 gi√¢y
                let pool = msgs.betting;
                if(this.state === 'WAIT') pool = msgs.waiting;
                if(this.state === 'RESULT') pool = msgs.result;

                const user = activeUsers[Math.floor(Math.random() * activeUsers.length)];
                let msg = pool[Math.floor(Math.random() * pool.length)];
                
                // Th√™m bi·∫øn t·∫•u cho tin nh·∫Øn
                if(Math.random() > 0.8) msg += " !!!";
                if(Math.random() > 0.9) msg = msg.toUpperCase();

                this.logChat(user, msg);
            }
        }, 2000);
    }

    allIn() { this.addBet(this.balance); }
    clearBet() { if(this.state==='BET'){ this.balance+=(this.bT+this.bX); this.bT=0; this.bX=0; this.side=null; this.updateUI(); }}
    enableSound() { document.getElementById('m-bg').play(); this.isMuted=false; document.getElementById('audio-starter').style.display='none'; }
    playSound(id,l=false) { if(!this.isMuted){ const e=document.getElementById(id); e.currentTime=0; e.loop=l; e.play(); }}
}
const game = new CasinoMaster();
</script>
</body>
</html>
